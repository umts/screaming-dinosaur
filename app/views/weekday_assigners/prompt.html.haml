= render layout: 'layouts/section',
         locals: { heading: 'Assign Weekdays',
                   closeable: allowed_to?(:index?, Assignment) && roster_path(@assigner.roster) } do
  = form_with model: @assigner, url: roster_assign_weekdays_path(@assigner.roster) do |f|
    .mb-3
      = f.label :user_id, class: 'form-label'
      = f.collection_select :user_id, @assigner.roster.users.active.order(:last_name), :id, :last_name,
                            {}, required: true, class: 'form-select'
    .row
      .mb-3.col-md
        = f.label :start_date, class: 'form-label'
        = f.date_field :start_date, required: true, class: 'form-control'
      .mb-3.col-md
        = f.label :end_date, class: 'form-label'
        = f.date_field :end_date, required: true, class: 'form-control'
    .row
      .mb-3.col-md
        = f.label :start_weekday, class: 'form-label'
        = f.collection_select :start_weekday, Date::DAYNAMES, ->(day) { Date::DAYNAMES.index(day) }, :itself,
                              {}, required: true, class: 'form-select'
      .mb-3.col-md
        = f.label :end_weekday, class: 'form-label'
        = f.collection_select :end_weekday, Date::DAYNAMES, ->(day) { Date::DAYNAMES.index(day) }, :itself,
                              {}, required: true, class: 'form-select'
    = f.submit 'Generate', class: 'btn btn-primary w-100'
