= render layout: 'layouts/section',
         locals: { heading: 'Assign Weeks',
                   closeable: allowed_to?(:index?, Assignment) && roster_assignments_path(@assigner.roster) } do
  = form_with model: @assigner, url: roster_assign_weeks_path(@assigner.roster) do |f|
    .mb-3
      = f.label :start_date, class: 'form-label'
      = f.date_field :start_date, required: true, class: 'form-control'
    .mb-3
      = f.label :end_date, class: 'form-label'
      = f.date_field :end_date, required: true, class: 'form-control'
    .mb-3
      = f.label :starting_user_id, class: 'form-label'
      = f.collection_select :starting_user_id,
                            @assigner.roster.users.active.order(:last_name), :id, :full_name,
                            {}, class: 'form-select'
    .mb-3
      = field_set_tag do
        %legend.legend-label Users
        .list-group
          = f.collection_check_boxes :user_ids,
                                     @assigner.roster.users.active.order(:last_name), :id, :full_name,
                                     { include_hidden: false } do |c|
            = c.label class: 'list-group-item list-group-item-action' do
              .form-check
                = c.check_box class: 'form-check-input'
                .form-check-label= c.text
    = f.submit 'Generate', class: 'btn btn-primary w-100'
